<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>CET Classroom Occupancy Monitoring</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="color-scheme" content="light dark" />
  <link href="styles.css" rel="stylesheet" />
  <!-- FullCalendar -->
  <link href="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.15/index.global.min.css" rel="stylesheet" />
  <script src="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.15/index.global.min.js"></script>
  <!-- Socket.IO -->
  <script src="/socket.io/socket.io.js"></script>
</head>
<body>
  <header class="app-header" role="banner" aria-label="App header">
    <div class="brand">
      <div class="brand-mark" aria-hidden="true"></div>
      <div>
        <h1>CET Building</h1>
        <p class="subtitle">Classroom Occupancy Monitoring</p>
      </div>
    </div>
    <div class="status">
      <span id="lastUpdated" aria-live="polite">Last updated: —</span>
    </div>
  </header>

  <main class="container">
    <section class="controls" aria-label="Search and filters">
      <div class="search-group">
        <label for="searchInput" class="sr-only">Search rooms</label>
        <input id="searchInput" type="search" placeholder="Search rooms (e.g., CET-201)" />
      </div>
      <div class="filters">
        <select id="statusFilter" aria-label="Filter by availability">
          <option value="">All statuses</option>
          <option value="available">Available</option>
          <option value="occupied">Occupied</option>
          <option value="soon">Soon to be available</option>
        </select>
        <select id="floorFilter" aria-label="Filter by floor">
          <option value="">All floors</option>
          <option value="1">Floor 1</option>
          <option value="2">Floor 2</option>
          <option value="3">Floor 3</option>
        </select>
        <select id="capacityFilter" aria-label="Filter by capacity">
          <option value="">All capacities</option>
          <option value="<=30">≤ 30</option>
          <option value="31-50">31–50</option>
          <option value=">50">> 50</option>
        </select>
      </div>
    </section>

    <section class="grid" aria-label="Dashboard cards">
      <div id="roomCards" class="cards"></div>
    </section>

    <section class="split">
      <div class="panel">
        <h2>Room schedule view</h2>
        <div id="scheduleList" class="schedule-list" role="list"></div>
      </div>
      <div class="panel">
        <h2>CET building layout</h2>
        <div class="map-wrap" id="mapWrap" aria-label="Building map">
          <!-- Inline demo SVG map -->
          <svg id="cetMap" viewBox="0 0 600 400" role="img" aria-label="CET Building Layout">
            <desc>Clickable rooms. Tap a room to see occupancy details.</desc>
            <rect x="20" y="20" width="560" height="360" rx="12" class="map-border"></rect>

            <!-- Floor labels -->
            <text x="30" y="50" class="map-label">Floor 1</text>
            <text x="30" y="180" class="map-label">Floor 2</text>
            <text x="30" y="310" class="map-label">Floor 3</text>

            <!-- Rooms (demo) -->
            <g class="room" data-room-id="CET-101">
              <rect x="120" y="70" width="120" height="60" class="map-room"></rect>
              <text x="180" y="105" class="map-room-text">CET-101</text>
            </g>
            <g class="room" data-room-id="CET-102">
              <rect x="270" y="70" width="120" height="60" class="map-room"></rect>
              <text x="330" y="105" class="map-room-text">CET-102</text>
            </g>
            <g class="room" data-room-id="CET-201">
              <rect x="120" y="200" width="120" height="60" class="map-room"></rect>
              <text x="180" y="235" class="map-room-text">CET-201</text>
            </g>
            <g class="room" data-room-id="CET-202">
              <rect x="270" y="200" width="120" height="60" class="map-room"></rect>
              <text x="330" y="235" class="map-room-text">CET-202</text>
            </g>
            <g class="room" data-room-id="CET-301">
              <rect x="120" y="330" width="120" height="40" class="map-room"></rect>
              <text x="180" y="355" class="map-room-text">CET-301</text>
            </g>
            <g class="room" data-room-id="CET-302">
              <rect x="270" y="330" width="120" height="40" class="map-room"></rect>
              <text x="330" y="355" class="map-room-text">CET-302</text>
            </g>
          </svg>
          <div id="mapTooltip" class="map-tooltip" role="dialog" aria-live="polite"></div>
        </div>
      </div>
    </section>

    <section class="calendar-section">
      <h2>Room calendar</h2>
      <div class="calendar-controls">
        <select id="calendarRoom" aria-label="Select room for calendar"></select>
      </div>
      <div id="calendar" class="calendar"></div>
    </section>
  </main>

  <footer class="app-footer" role="contentinfo">
    <div class="legend">
      <span class="dot dot-green"></span> Available
      <span class="dot dot-yellow"></span> Soon to be available
      <span class="dot dot-red"></span> Occupied
    </div>
    <div>&copy; CET Building • Classroom Occupancy Monitoring</div>
  </footer>

  <script src="app.js"></script>
</body>
</html>
